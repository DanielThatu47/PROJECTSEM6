{"ast":null,"code":"import React,{useState}from'react';import{Button}from'react-bootstrap';import axios from\"axios\";import{useNavigate}from'react-router-dom';// Import useNavigate instead of useHistory\nimport{useAuth0}from'@auth0/auth0-react';// Import useAuth0\nimport Homepage from'./HomePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Join=()=>{const[classCode,setClassCode]=useState('');const[error,setError]=useState('');const navigate=useNavigate();// Use useNavigate hook for navigation\nconst{user}=useAuth0();// Get user information from Auth0\nconst handleJoinClassroom=async()=>{try{const response=await axios.post('https://aimlbackend.onrender.com/classrooms/join',{code:classCode,userEmail:user.email// Pass user's email to the backend\n});console.log(response);if(response.status===200){console.log(\"Successfully joined the classroom\");// Redirect the user to Userclass component after joining a classroom\nnavigate('/userclass');// Use navigate instead of history.push\n}else{setError('Failed to join classroom');}}catch(error){console.error('Error joining classroom:',error);setError('Failed to join classroom');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Homepage,{showPlusIcon:false}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold pb-4\",children:\"Join Classroom Via Code\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"classCode\",style:{marginBottom:23},children:\"Enter the Code to Join\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"classCode\",value:classCode,onChange:e=>setClassCode(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{onClick:handleJoinClassroom,children:\"Join Classroom\"})]})]});};export default Join;const styles=\"\\n        .container {\\n            margin: 20px;\\n            padding: 20px;\\n            border: 1px solid #ccc;\\n            border-radius: 5px;\\n            background-color: #f9f9f9;\\n            width: 70%;\\n        }\\n        \\n        .form-group {\\n            margin-bottom: 15px;\\n        }\\n        \\n        label {\\n            font-weight: bold;\\n        }\\n        \\n        .form-control {\\n            width: 100%;\\n            padding: 8px;\\n            border: 1px solid #ccc;\\n            border-radius: 4px;\\n            box-sizing: border-box;\\n        }\\n        \\n        \\n        .alert {\\n            margin-bottom: 15px;\\n            padding: 15px;\\n            border: 1px solid transparent;\\n            border-radius: 4px;\\n        }\\n        \\n        .alert-danger {\\n            color: #721c24;\\n            background-color: #f8d7da;\\n            border-color: #f5c6cb;\\n        }\\n        button{\\n\\n            flex-direction: row;\\n            padding: 18px;\\n            border: 1px solid black;\\n          }\\n    \";const styleElement=document.createElement('style');styleElement.appendChild(document.createTextNode(styles));document.head.appendChild(styleElement);","map":{"version":3,"names":["React","useState","Button","axios","useNavigate","useAuth0","Homepage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Join","classCode","setClassCode","error","setError","navigate","user","handleJoinClassroom","response","post","code","userEmail","email","console","log","status","children","showPlusIcon","className","htmlFor","style","marginBottom","type","id","value","onChange","e","target","onClick","styles","styleElement","document","createElement","appendChild","createTextNode","head"],"sources":["C:/Users/Dell/OneDrive/Desktop/Demo/miniprojectsem6/src/Components/Join.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport axios from \"axios\";\r\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate instead of useHistory\r\nimport { useAuth0 } from '@auth0/auth0-react'; // Import useAuth0\r\nimport Homepage from './HomePage';\r\n\r\n\r\nconst Join = () => {\r\n    const [classCode, setClassCode] = useState('');\r\n    const [error, setError] = useState('');\r\n    const navigate = useNavigate(); // Use useNavigate hook for navigation\r\n    const { user } = useAuth0(); // Get user information from Auth0\r\n\r\n\r\n    const handleJoinClassroom = async () => {\r\n        try {\r\n            const response = await axios.post('https://aimlbackend.onrender.com/classrooms/join',\r\n             { \r\n                code: classCode,\r\n                userEmail: user.email // Pass user's email to the backend\r\n             });\r\n             console.log(response)\r\n            if (response.status === 200) {\r\n                console.log(\"Successfully joined the classroom\");\r\n                // Redirect the user to Userclass component after joining a classroom\r\n                navigate('/userclass'); // Use navigate instead of history.push\r\n            } else {\r\n                setError('Failed to join classroom');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error joining classroom:', error);\r\n            setError('Failed to join classroom');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <Homepage showPlusIcon={false} />\r\n        <div className=\"container\">\r\n            <h2 className='text-xl font-bold pb-4'>Join Classroom Via Code</h2>\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"classCode\" style={{marginBottom:23}}>Enter the Code to Join</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"classCode\" value={classCode} onChange={(e) => setClassCode(e.target.value)} />\r\n            </div>\r\n            <Button onClick={handleJoinClassroom}>Join Classroom</Button>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Join;\r\n\r\n\r\n\r\nconst styles = `\r\n        .container {\r\n            margin: 20px;\r\n            padding: 20px;\r\n            border: 1px solid #ccc;\r\n            border-radius: 5px;\r\n            background-color: #f9f9f9;\r\n            width: 70%;\r\n        }\r\n        \r\n        .form-group {\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        label {\r\n            font-weight: bold;\r\n        }\r\n        \r\n        .form-control {\r\n            width: 100%;\r\n            padding: 8px;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        \r\n        .alert {\r\n            margin-bottom: 15px;\r\n            padding: 15px;\r\n            border: 1px solid transparent;\r\n            border-radius: 4px;\r\n        }\r\n        \r\n        .alert-danger {\r\n            color: #721c24;\r\n            background-color: #f8d7da;\r\n            border-color: #f5c6cb;\r\n        }\r\n        button{\r\n\r\n            flex-direction: row;\r\n            padding: 18px;\r\n            border: 1px solid black;\r\n          }\r\n    `;\r\n\r\n    const styleElement = document.createElement('style');\r\n    styleElement.appendChild(document.createTextNode(styles));\r\n    document.head.appendChild(styleElement);\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}