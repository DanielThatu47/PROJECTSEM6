{"ast":null,"code":"import React,{useState}from'react';import{Button}from'react-bootstrap';import axios from\"axios\";import{nanoid}from'nanoid';// Import nanoid library\nimport{useAuth0}from'@auth0/auth0-react';import Homepage from'./HomePage';import{useNavigate}from'react-router-dom';// Import useNavigate instead of useHistory\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Create=()=>{const[className,setClassName]=useState('');const[classDescription,setClassDescription]=useState('');const[error,setError]=useState('');const{user}=useAuth0();const navigate=useNavigate();// Use useNavigate hook for navigation\nconst handleCreateClassroom=async()=>{try{const classroomCode=nanoid(8);// Generate unique code\nconst response=await axios.post('https://aimlbackend.onrender.com/classrooms',{title:className,description:classDescription,code:classroomCode,// Save code in database\nteacher:user.email,name:user.name,profile:user.picture// Pass user's profile image URL\n});if(response.status===200){console.log(\"Classroom created successfully\");navigate('/classroom');// Optionally, you can redirect the user to another page or display a success message\n}else{// Classroom creation failed\nsetError('Failed to create classroom');}// Use navigate instead of history.push\nnavigate('/classroom');}catch(error){console.error('Error creating classroom:',error);setError('Failed to create classroom');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Homepage,{showPlusIcon:false}),/*#__PURE__*/_jsxs(\"div\",{className:\"container bg-white\",style:{backgroundColor:'antiquewhite'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Create a New Classroom\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"className\",children:\"Class Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"className\",value:className,onChange:e=>setClassName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"classDescription\",children:\"Class Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"classDescription\",value:classDescription,onChange:e=>setClassDescription(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{onClick:handleCreateClassroom,children:\"Create Classroom\"})]})]});};export default Create;const styles=\"\\n        .container {\\n            margin: 20px;\\n            padding: 20px;\\n            border: 1px solid #ccc;\\n            border-radius: 5px;\\n            background-color: #f9f9f9;\\n            width:80%;\\n        }\\n        \\n        .form-group {\\n            margin-bottom: 15px;\\n        }\\n        \\n        label {\\n            font-weight: bold;\\n        }\\n        \\n        .form-control {\\n            width: 100%;\\n            padding: 8px;\\n            border: 1px solid #ccc;\\n            border-radius: 4px;\\n            box-sizing: border-box;\\n        }\\n        \\n        textarea {\\n            resize: vertical;\\n            height: 100px;\\n        }\\n        \\n        .alert {\\n            margin-bottom: 15px;\\n            padding: 15px;\\n            border: 1px solid transparent;\\n            border-radius: 4px;\\n        }\\n        \\n        .alert-danger {\\n            color: #721c24;\\n            background-color: #f8d7da;\\n            border-color: #f5c6cb;\\n        }\\n        button{\\n\\n            flex-direction: row;\\n            padding: 18px;\\n            border: 1px solid black;\\n          }\\n    \";const styleElement=document.createElement('style');styleElement.appendChild(document.createTextNode(styles));document.head.appendChild(styleElement);","map":{"version":3,"names":["React","useState","Button","axios","nanoid","useAuth0","Homepage","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Create","className","setClassName","classDescription","setClassDescription","error","setError","user","navigate","handleCreateClassroom","classroomCode","response","post","title","description","code","teacher","email","name","profile","picture","status","console","log","children","showPlusIcon","style","backgroundColor","htmlFor","type","id","value","onChange","e","target","onClick","styles","styleElement","document","createElement","appendChild","createTextNode","head"],"sources":["C:/Users/Dell/OneDrive/Desktop/Demo/miniprojectsem6/src/Components/Create.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport axios from \"axios\";\r\nimport { nanoid } from 'nanoid'; // Import nanoid library\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport Homepage from './HomePage';\r\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate instead of useHistory\r\n\r\n\r\n\r\nconst Create = () => {\r\n    const [className, setClassName] = useState('');\r\n    const [classDescription, setClassDescription] = useState('');\r\n    const [error, setError] = useState('');\r\n    const { user } = useAuth0();\r\n    const navigate = useNavigate(); // Use useNavigate hook for navigation\r\n\r\n\r\n\r\n    \r\n    const handleCreateClassroom = async () => {\r\n        try {\r\n            const classroomCode = nanoid(8); // Generate unique code\r\n            const response = await axios.post('https://aimlbackend.onrender.com/classrooms', {\r\n                title: className,\r\n                description: classDescription,\r\n                code: classroomCode, // Save code in database\r\n                teacher: user.email ,\r\n                name: user.name,\r\n                profile : user.picture // Pass user's profile image URL\r\n            });\r\n            if (response.status === 200) {\r\n                console.log(\"Classroom created successfully\");\r\n                navigate('/classroom');\r\n                // Optionally, you can redirect the user to another page or display a success message\r\n            } else {\r\n                // Classroom creation failed\r\n                setError('Failed to create classroom');\r\n            }\r\n            // Use navigate instead of history.push\r\n            navigate('/classroom');\r\n            \r\n        } catch (error) {\r\n            console.error('Error creating classroom:', error);\r\n            setError('Failed to create classroom');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <Homepage showPlusIcon={false} />\r\n        <div className=\"container bg-white\" style={{ backgroundColor: 'antiquewhite' }}>\r\n            <h2 className='text-xl font-bold'>Create a New Classroom</h2>\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"className\">Class Name</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"className\" value={className} onChange={(e) => setClassName(e.target.value)} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"classDescription\">Class Description</label>\r\n                <textarea className=\"form-control\" id=\"classDescription\" value={classDescription} onChange={(e) => setClassDescription(e.target.value)}></textarea>\r\n            </div>\r\n            <Button onClick={handleCreateClassroom}>Create Classroom</Button>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Create;\r\n\r\nconst styles = `\r\n        .container {\r\n            margin: 20px;\r\n            padding: 20px;\r\n            border: 1px solid #ccc;\r\n            border-radius: 5px;\r\n            background-color: #f9f9f9;\r\n            width:80%;\r\n        }\r\n        \r\n        .form-group {\r\n            margin-bottom: 15px;\r\n        }\r\n        \r\n        label {\r\n            font-weight: bold;\r\n        }\r\n        \r\n        .form-control {\r\n            width: 100%;\r\n            padding: 8px;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n            box-sizing: border-box;\r\n        }\r\n        \r\n        textarea {\r\n            resize: vertical;\r\n            height: 100px;\r\n        }\r\n        \r\n        .alert {\r\n            margin-bottom: 15px;\r\n            padding: 15px;\r\n            border: 1px solid transparent;\r\n            border-radius: 4px;\r\n        }\r\n        \r\n        .alert-danger {\r\n            color: #721c24;\r\n            background-color: #f8d7da;\r\n            border-color: #f5c6cb;\r\n        }\r\n        button{\r\n\r\n            flex-direction: row;\r\n            padding: 18px;\r\n            border: 1px solid black;\r\n          }\r\n    `;\r\n\r\n    const styleElement = document.createElement('style');\r\n    styleElement.appendChild(document.createTextNode(styles));\r\n    document.head.appendChild(styleElement);\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,KAAQ,iBAAiB,CACxC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,QAAQ,CAAE;AACjC,OAASC,QAAQ,KAAQ,oBAAoB,CAC7C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,OAASC,WAAW,KAAQ,kBAAkB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAIhD,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACgB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAEoB,IAAK,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAC3B,KAAM,CAAAiB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAAE;AAKhC,KAAM,CAAAgB,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACA,KAAM,CAAAC,aAAa,CAAGpB,MAAM,CAAC,CAAC,CAAC,CAAE;AACjC,KAAM,CAAAqB,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,IAAI,CAAC,6CAA6C,CAAE,CAC7EC,KAAK,CAAEZ,SAAS,CAChBa,WAAW,CAAEX,gBAAgB,CAC7BY,IAAI,CAAEL,aAAa,CAAE;AACrBM,OAAO,CAAET,IAAI,CAACU,KAAK,CACnBC,IAAI,CAAEX,IAAI,CAACW,IAAI,CACfC,OAAO,CAAGZ,IAAI,CAACa,OAAQ;AAC3B,CAAC,CAAC,CACF,GAAIT,QAAQ,CAACU,MAAM,GAAK,GAAG,CAAE,CACzBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAC7Cf,QAAQ,CAAC,YAAY,CAAC,CACtB;AACJ,CAAC,IAAM,CACH;AACAF,QAAQ,CAAC,4BAA4B,CAAC,CAC1C,CACA;AACAE,QAAQ,CAAC,YAAY,CAAC,CAE1B,CAAE,MAAOH,KAAK,CAAE,CACZiB,OAAO,CAACjB,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDC,QAAQ,CAAC,4BAA4B,CAAC,CAC1C,CACJ,CAAC,CAED,mBACIT,KAAA,CAAAE,SAAA,EAAAyB,QAAA,eACA7B,IAAA,CAACH,QAAQ,EAACiC,YAAY,CAAE,KAAM,CAAE,CAAC,cACjC5B,KAAA,QAAKI,SAAS,CAAC,oBAAoB,CAACyB,KAAK,CAAE,CAAEC,eAAe,CAAE,cAAe,CAAE,CAAAH,QAAA,eAC3E7B,IAAA,OAAIM,SAAS,CAAC,mBAAmB,CAAAuB,QAAA,CAAC,wBAAsB,CAAI,CAAC,CAC5DnB,KAAK,eAAIV,IAAA,QAAKM,SAAS,CAAC,oBAAoB,CAAAuB,QAAA,CAAEnB,KAAK,CAAM,CAAC,cAC3DR,KAAA,QAAKI,SAAS,CAAC,YAAY,CAAAuB,QAAA,eACvB7B,IAAA,UAAOiC,OAAO,CAAC,WAAW,CAAAJ,QAAA,CAAC,YAAU,CAAO,CAAC,cAC7C7B,IAAA,UAAOkC,IAAI,CAAC,MAAM,CAAC5B,SAAS,CAAC,cAAc,CAAC6B,EAAE,CAAC,WAAW,CAACC,KAAK,CAAE9B,SAAU,CAAC+B,QAAQ,CAAGC,CAAC,EAAK/B,YAAY,CAAC+B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,EAC7H,CAAC,cACNlC,KAAA,QAAKI,SAAS,CAAC,YAAY,CAAAuB,QAAA,eACvB7B,IAAA,UAAOiC,OAAO,CAAC,kBAAkB,CAAAJ,QAAA,CAAC,mBAAiB,CAAO,CAAC,cAC3D7B,IAAA,aAAUM,SAAS,CAAC,cAAc,CAAC6B,EAAE,CAAC,kBAAkB,CAACC,KAAK,CAAE5B,gBAAiB,CAAC6B,QAAQ,CAAGC,CAAC,EAAK7B,mBAAmB,CAAC6B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAW,CAAC,EAClJ,CAAC,cACNpC,IAAA,CAACP,MAAM,EAAC+C,OAAO,CAAE1B,qBAAsB,CAAAe,QAAA,CAAC,kBAAgB,CAAQ,CAAC,EAChE,CAAC,EACJ,CAAC,CAEX,CAAC,CAED,cAAe,CAAAxB,MAAM,CAErB,KAAM,CAAAoC,MAAM,0nCAiDP,CAED,KAAM,CAAAC,YAAY,CAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CACpDF,YAAY,CAACG,WAAW,CAACF,QAAQ,CAACG,cAAc,CAACL,MAAM,CAAC,CAAC,CACzDE,QAAQ,CAACI,IAAI,CAACF,WAAW,CAACH,YAAY,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}