{"ast":null,"code":"import React,{useState,useEffect}from'react';import'tailwindcss/tailwind.css';import Homepage from'./HomePage';import axios from'axios';import{useParams}from'react-router-dom';import{useNavigate}from'react-router-dom';import{useAuth0}from'@auth0/auth0-react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ClassroomInterface=()=>{const[classroom,setClassrooms]=useState([null]);const{user}=useAuth0();const{code,heading,email}=useParams();// Get the classroom code from the URL\nconst navigate=useNavigate();const[postedQuiz,setPostedQuiz]=useState([]);const fetchclassroomDetails=async()=>{try{const response=await axios.get(\"https://aimlbackend.onrender.com/classrooms/bycode/\".concat(code));console.log(response);setClassrooms(response.data.classroom);}catch(error){console.error('Error fetching classroom details:',error);}};useEffect(()=>{fetchclassroomDetails();},[code]);// Fetch data when the component mounts\nuseEffect(()=>{const fetchPostedQuiz=async()=>{try{const response=await axios.get(\"https://aimlbackend.onrender.com/post/\".concat(code,\"/\").concat(heading));if(response.data.Assigned){setPostedQuiz(response.data.Assigned.quiz);console.log(response);}}catch(error){console.error('Error fetching posted quiz:',error);}};fetchPostedQuiz();},[]);useEffect(()=>{const fetchPostedQuiz=async()=>{try{const response=await axios.get(\"https://aimlbackend.onrender.com/post/\".concat(code,\"/\").concat(heading,\"/\").concat(email));if(response.data.Assigned){setPostedQuiz(response.data.Assigned.quiz);console.log(response);}}catch(error){console.error('Error fetching posted quiz:',error);}};fetchPostedQuiz();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:classroom?/*#__PURE__*/_jsxs(\"body\",{children:[/*#__PURE__*/_jsx(Homepage,{showPlusIcon:false}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-500 text-white p-4 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:classroom.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl\",children:classroom.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mt-4\",children:[user.email===classroom.teacher?/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 bg-zinc-100 p-4 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Asisigned quizzes here\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 bg-blue-600 text-white rounded py-2 px-4\",onClick:()=>{window.location.href=\"/quizzes/\".concat(classroom.code);},children:\"Assign Here\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 bg-zinc-100 p-4 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-lg mb-2\",children:\"Upcoming\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Woohoo, no work due soon!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 bg-blue-600 text-white rounded py-2 px-4\",children:\"View all\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[user.email===classroom.teacher?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 bg-blue-600 text-white rounded py-2 px-4\",onClick:()=>{navigate(\"/generate/\".concat(classroom.code));},children:\"Create Quiz\"})})}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-lg\",children:[\"Teacher : \",classroom.teacher]})}),postedQuiz.length>0?postedQuiz.map(pq=>pq.assigned?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/quiz/\".concat(code,\"/\").concat(pq.heading),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg\",children:pq.heading})})})})}):/*#__PURE__*/_jsx(_Fragment,{})):/*#__PURE__*/_jsx(_Fragment,{})]})]})]})]})]}):/*#__PURE__*/_jsx(_Fragment,{})});};export default ClassroomInterface;","map":{"version":3,"names":["React","useState","useEffect","Homepage","axios","useParams","useNavigate","useAuth0","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ClassroomInterface","classroom","setClassrooms","user","code","heading","email","navigate","postedQuiz","setPostedQuiz","fetchclassroomDetails","response","get","concat","console","log","data","error","fetchPostedQuiz","Assigned","quiz","children","showPlusIcon","className","title","description","teacher","onClick","window","location","href","length","map","pq","assigned","to"],"sources":["C:/Users/Dell/OneDrive/Desktop/Demo/miniprojectsem6/src/Components/ClassroomInterface.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport 'tailwindcss/tailwind.css';\r\nimport Homepage from './HomePage';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nconst ClassroomInterface = () => {\r\n\r\n  const [classroom, setClassrooms] = useState([null])\r\n  const { user } = useAuth0();\r\n  const { code, heading , email} = useParams(); // Get the classroom code from the URL\r\n  const navigate = useNavigate();\r\n  const [postedQuiz, setPostedQuiz] = useState([]);\r\n\r\n\r\n\r\n  const fetchclassroomDetails = async () => {\r\n\r\n    try {\r\n      const response = await axios.get(`https://aimlbackend.onrender.com/classrooms/bycode/${code}`)\r\n      console.log(response)\r\n      setClassrooms(response.data.classroom)\r\n    }\r\n    catch (error) {\r\n      console.error('Error fetching classroom details:', error);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    fetchclassroomDetails();\r\n  }, [code]); // Fetch data when the component mounts\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchPostedQuiz = async () => {\r\n      try {\r\n        const response = await axios.get(`https://aimlbackend.onrender.com/post/${code}/${heading}`);\r\n        if (response.data.Assigned) {\r\n          setPostedQuiz(response.data.Assigned.quiz);\r\n          console.log(response)\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching posted quiz:', error);\r\n      }\r\n    };\r\n\r\n    fetchPostedQuiz();\r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchPostedQuiz = async () => {\r\n      try {\r\n        const response = await axios.get(`https://aimlbackend.onrender.com/post/${code}/${heading}/${email}`);\r\n        if (response.data.Assigned) {\r\n          setPostedQuiz(response.data.Assigned.quiz);\r\n          console.log(response)\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching posted quiz:', error);\r\n      }\r\n    };\r\n\r\n    fetchPostedQuiz();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {classroom ?\r\n\r\n        <body>\r\n          <Homepage showPlusIcon={false} />\r\n          <div className=\"container mx-auto px-4\">\r\n            <div className=\"bg-blue-500 text-white p-4 rounded-lg shadow-md\">\r\n              <h1 className=\"text-3xl font-bold\">{classroom.title}</h1>\r\n              <p className=\"text-xl\">{classroom.description}</p>\r\n            </div>\r\n            <div className=\"grid grid-cols-3 gap-4 mt-4\">\r\n              {user.email === classroom.teacher ? (\r\n                <div className=\"col-span-1 bg-zinc-100 p-4 rounded-lg shadow-md\">\r\n                  <p>Asisigned quizzes here</p>\r\n                  <button className=\"mt-4 bg-blue-600 text-white rounded py-2 px-4\" onClick={() => {\r\n                    window.location.href = `/quizzes/${classroom.code}`\r\n                  }}>Assign Here</button>\r\n                </div>\r\n\r\n              ) : (\r\n                <div className=\"col-span-1 bg-zinc-100 p-4 rounded-lg shadow-md\">\r\n                  <h2 className=\"font-semibold text-lg mb-2\">Upcoming</h2>\r\n                  <p>Woohoo, no work due soon!</p>\r\n                  <button className=\"mt-4 bg-blue-600 text-white rounded py-2 px-4\" >View all</button>\r\n                </div>\r\n\r\n\r\n              )}\r\n\r\n              <div className=\"col-span-2\">\r\n                {\r\n                  user.email === classroom.teacher ?\r\n                    <div className=\"bg-white p-4 rounded-lg shadow-sm mb-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n\r\n                        <button className=\"mt-4 bg-blue-600 text-white rounded py-2 px-4\" onClick={() => {\r\n                          navigate(`/generate/${classroom.code}`)\r\n                        }}>Create Quiz</button>\r\n\r\n                      </div>\r\n                    </div> :\r\n\r\n                    <></>\r\n\r\n                }\r\n\r\n                <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h3 className=\"font-semibold text-lg\">Teacher : {classroom.teacher}</h3>\r\n                  </div>\r\n\r\n                  \r\n                  {postedQuiz.length > 0 ?\r\n                    postedQuiz.map(pq => (\r\n                      pq.assigned ?\r\n                        <>\r\n                        \r\n                          <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n                            <Link to = {`/quiz/${code}/${pq.heading}`}>\r\n\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <h3 className=\"font-semibold text-lg\">{pq.heading}</h3>\r\n                            </div>\r\n                            </Link>\r\n                            {/* Display other details of the posted quiz as needed */}\r\n                          </div>\r\n\r\n                        </> :\r\n                        <></>\r\n                    ))\r\n                    : <></>\r\n                  }\r\n\r\n\r\n\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </body> : <></>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ClassroomInterface;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}