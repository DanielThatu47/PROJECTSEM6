{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{Button}from'react-bootstrap';import{useParams}from'react-router-dom';import Homepage from'./HomePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function QuizGenerator(){const[inputText,setInputText]=useState('');const[questions,setQuestions]=useState([]);const[showWidget,setShowWidget]=useState(false);const{code}=useParams();// Get the classroom code from the URL\nconst[heading,setHeading]=useState('');const handleHeadingChange=event=>{setHeading(event.target.value);};const handleCreateQuiz=async()=>{try{// const response = await axios.post('http://localhost:5000/generate_questions', { input_text: inputText });\n// setShowWidget(true);\nconst response=await axios.post('https://aimlbackend.onrender.com/generate',{input_text:inputText,code:code,heading:heading});console.log(response);// setQuestions(response.data.questions.map(question => ({ ...question, selectedOption: '', isCorrect: null })));\nsetQuestions(response.data.quiz.quiz[response.data.quiz.quiz.length-1].questions.map(question=>({...question,selectedOption:'',isCorrect:null})));setShowWidget(true);}catch(error){console.error('Error generating quiz:',error);}};const handleInputChange=event=>{setInputText(event.target.value);};const handleOptionClick=(questionIndex,option)=>{const updatedQuestions=[...questions];const question=updatedQuestions[questionIndex];if(question.selectedOption===''){question.selectedOption=option;question.isCorrect=option===question.answer;}setQuestions(updatedQuestions);};// Function to filter out questions with less than 4 options\nconst filteredQuestions=questions.filter(question=>question.options.length>=1);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Homepage,{showPlusIcon:false}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-zinc-100 min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-2xl mb-6\",children:\"Quiz Generator\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control w-full mt-4 mb-6\",type:\"text\",value:heading,onChange:handleHeadingChange,placeholder:\"Enter heading for the quiz...\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control w-full mt-4 mb-6\",rows:\"4\",value:inputText,onChange:handleInputChange,placeholder:\"Enter text for generating questions...\"}),/*#__PURE__*/_jsx(Button,{className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full w-full mb-4\",onClick:handleCreateQuiz,children:\"Create Quiz\"}),showWidget&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:filteredQuestions.map((question,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg mb-2\",children:question.question_statement}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"The options are:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:question.options.map((option,optionIndex)=>/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center mt-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"form-radio h-5 w-5 text-zinc-600\",name:\"question-\".concat(index,\"-option\"),value:option,onChange:()=>handleOptionClick(index,option)}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-zinc-700\",children:option})]},optionIndex))})]})]},index))})]})})})]});}export default QuizGenerator;","map":{"version":3,"names":["React","useState","axios","Button","useParams","Homepage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QuizGenerator","inputText","setInputText","questions","setQuestions","showWidget","setShowWidget","code","heading","setHeading","handleHeadingChange","event","target","value","handleCreateQuiz","response","post","input_text","console","log","data","quiz","length","map","question","selectedOption","isCorrect","error","handleInputChange","handleOptionClick","questionIndex","option","updatedQuestions","answer","filteredQuestions","filter","options","children","showPlusIcon","className","type","onChange","placeholder","rows","onClick","index","question_statement","optionIndex","name","concat"],"sources":["C:/Users/Dell/OneDrive/Desktop/Demo/miniprojectsem6/src/Components/QuizGenerator.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Button } from 'react-bootstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport Homepage from './HomePage';\r\n\r\n\r\n\r\nfunction QuizGenerator() {\r\n    const [inputText, setInputText] = useState('');\r\n    const [questions, setQuestions] = useState([]);\r\n    const [showWidget, setShowWidget] = useState(false);\r\n    const { code } = useParams(); // Get the classroom code from the URL\r\n    const [heading, setHeading] = useState('');\r\n\r\n    const handleHeadingChange = (event) => {\r\n        setHeading(event.target.value);\r\n    };\r\n\r\n\r\n    const handleCreateQuiz = async () => {\r\n        try {\r\n            // const response = await axios.post('http://localhost:5000/generate_questions', { input_text: inputText });\r\n            // setShowWidget(true);\r\n            const response = await axios.post('https://aimlbackend.onrender.com/generate', { input_text: inputText, code: code, heading: heading })\r\n            console.log(response)\r\n            // setQuestions(response.data.questions.map(question => ({ ...question, selectedOption: '', isCorrect: null })));\r\n            setQuestions(response.data.quiz.quiz[response.data.quiz.quiz.length - 1].questions.map(question => ({ ...question, selectedOption: '', isCorrect: null })));\r\n            setShowWidget(true);\r\n        } catch (error) {\r\n            console.error('Error generating quiz:', error);\r\n        }\r\n    };\r\n\r\n    const handleInputChange = (event) => {\r\n        setInputText(event.target.value);\r\n    };\r\n\r\n    const handleOptionClick = (questionIndex, option) => {\r\n        const updatedQuestions = [...questions];\r\n        const question = updatedQuestions[questionIndex];\r\n        if (question.selectedOption === '') {\r\n            question.selectedOption = option;\r\n            question.isCorrect = option === question.answer;\r\n        }\r\n        setQuestions(updatedQuestions);\r\n    };\r\n\r\n    // Function to filter out questions with less than 4 options\r\n    const filteredQuestions = questions.filter(question => question.options.length >= 1);\r\n\r\n    return (\r\n\r\n        <>\r\n            <Homepage showPlusIcon={false} />\r\n            <div className=\"bg-zinc-100 min-h-screen\">\r\n                <div className=\"max-w-4xl mx-auto p-8\">\r\n                    <div className=\"bg-white p-8 rounded-lg shadow-md\">\r\n                        <h2 className=\"font-bold text-2xl mb-6\">Quiz Generator</h2>\r\n                        <input\r\n                            className=\"form-control w-full mt-4 mb-6\"\r\n                            type=\"text\"\r\n                            value={heading}\r\n                            onChange={handleHeadingChange}\r\n                            placeholder=\"Enter heading for the quiz...\"\r\n                        />\r\n                        <textarea\r\n                            className=\"form-control w-full mt-4 mb-6\"\r\n                            rows=\"4\"\r\n                            value={inputText}\r\n                            onChange={handleInputChange}\r\n                            placeholder=\"Enter text for generating questions...\"\r\n\r\n                        ></textarea>\r\n                        <Button\r\n                            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full w-full mb-4\"\r\n                            onClick={handleCreateQuiz}\r\n                        >\r\n                            Create Quiz\r\n                        </Button>\r\n                        {showWidget && (\r\n                            <div className=\"mt-4\">\r\n                                {filteredQuestions.map((question, index) => (\r\n                                    <div key={index} className=\"bg-white p-4 rounded-lg shadow-md mb-4\">\r\n                                        <h3 className=\"font-bold text-lg mb-2\">{question.question_statement}</h3>\r\n                                        <div className=\"mt-4\">\r\n                                            <p>The options are:</p>\r\n                                            <div className=\"flex flex-col\">\r\n                                                {question.options.map((option, optionIndex) => (\r\n                                                    <label key={optionIndex} className=\"inline-flex items-center mt-3\">\r\n                                                        <input\r\n                                                            type=\"radio\"\r\n                                                            className=\"form-radio h-5 w-5 text-zinc-600\"\r\n                                                            name={`question-${index}-option`}\r\n                                                            value={option}\r\n                                                            onChange={() => handleOptionClick(index, option)}\r\n                                                        />\r\n                                                        <span className=\"ml-2 text-zinc-700\">{option}</span>\r\n                                                    </label>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default QuizGenerator;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}